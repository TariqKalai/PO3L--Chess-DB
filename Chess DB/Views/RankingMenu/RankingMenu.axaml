<UserControl
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    x:Class="Chess_DB.Controls.RankingMenu"
    xmlns:vm="using:Chess_DB.ViewModels"
    x:DataType="vm:RankingViewModel">

  <UserControl.Styles>
    <Style Selector="TextBlock.title">
      <Setter Property="FontSize" Value="20"/>
      <Setter Property="FontWeight" Value="Bold"/>
      <Setter Property="Margin" Value="0,0,0,10"/>
    </Style>

    <Style Selector="ListBox">
      <Setter Property="Background" Value="Transparent"/>
    </Style>
  </UserControl.Styles>

  <Grid RowDefinitions="Auto,*" Margin="20">
    <TextBlock Classes="title" Text="Classement Elo" />

    <ListBox Grid.Row="1"
             ItemsSource="{Binding RankedPlayers}"
             SelectionMode="Single">
      <ListBox.ItemsPanel>
        <ItemsPanelTemplate>
          <StackPanel Orientation="Vertical" Spacing="4"/>
        </ItemsPanelTemplate>
      </ListBox.ItemsPanel>

      <ListBox.ItemTemplate>
        <DataTemplate>
          <Border Padding="8" CornerRadius="6" BorderThickness="1" BorderBrush="LightGray">
            <TextBlock>
              <TextBlock.Text>
                <MultiBinding StringFormat="{}{0}. {1} {2}  â€”  Elo: {3}">
                  <Binding Path="Rank"/>
                  <Binding Path="Player.FirstName"/>
                  <Binding Path="Player.LastName"/>
                  <Binding Path="Player.Elo"/>
                </MultiBinding>
              </TextBlock.Text>
            </TextBlock>
          </Border>
        </DataTemplate>
      </ListBox.ItemTemplate>
    </ListBox>
  </Grid>

</UserControl>
